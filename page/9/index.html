<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="大胃吴的闲话唠嗑">
<meta property="og:url" content="http://yoursite.com/page/9/index.html">
<meta property="og:site_name" content="大胃吴的闲话唠嗑">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大胃吴的闲话唠嗑">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/page/9/"/>

  <title> 大胃吴的闲话唠嗑 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">大胃吴的闲话唠嗑</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">扯扯技术，唠唠闲话</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            menu.首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-文章">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            menu.文章
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/04/2014-02-04-javascript-regular-expression-ii-basic-knowledge-concrete-examples/" itemprop="url">
                  javascript中的正则表达式（二）---基础知识、具体实例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-02-04T05:51:00+08:00" content="2014-02-04">
              2014-02-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Regexp/" itemprop="url" rel="index">
                    <span itemprop="name">Regexp</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Regexp/正则表达式/" itemprop="url" rel="index">
                    <span itemprop="name">正则表达式</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>接上一章，基础知识补充两点，另外举3个实例，最后一个实例为实际应用的模块。</p>
<h2 id="1-9-小刮号"><a href="#1-9-小刮号" class="headerlink" title="1.9 小刮号"></a>1.9 小刮号</h2><p>用小刮号可以把一个正则表达式划分成几个字匹配，比如看下面的例子。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">reg = <span class="regexp">/(\w+)@(\w+)\.com/g</span></div><div class="line">/(\w+)@(\w+)\.com/g</div><div class="line">mailstr</div><div class="line"><span class="string">'xiao303178384@qq.com'</span></div><div class="line">mailstr.replace(reg,<span class="string">"&lt;$1&gt;"</span>)</div><div class="line"><span class="string">'&lt;xiao303178384&gt;'</span></div><div class="line">mailstr = <span class="string">'xiao303178384@qq.com'</span></div><div class="line"><span class="string">'xiao303178384@qq.com'</span></div><div class="line">mailstr.replace(reg,<span class="string">"&lt;$1&gt;@$2.com"</span>)</div><div class="line"><span class="string">'&lt;xiao303178384&gt;@qq.com'</span></div></pre></td></tr></table></figure></p>
<p>$1为第一个小刮号的子匹配，$2就为第二个子匹配。</p>
<h2 id="1-10-Replace用回调函数"><a href="#1-10-Replace用回调函数" class="headerlink" title="1.10 Replace用回调函数"></a>1.10 Replace用回调函数</h2><p>用replace的第二个参数可以为一个回调函数，返回的值为替换的结果。回调函数有3个参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">name</div><div class="line"><span class="string">'david wu'</span></div><div class="line">reg</div><div class="line">/\b\w+\b/g</div><div class="line">name.replace(reg,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="built_in">arguments</span>)&#125;)</div><div class="line">&#123; <span class="string">'0'</span>: <span class="string">'david'</span>, <span class="string">'1'</span>: <span class="number">0</span>, <span class="string">'2'</span>: <span class="string">'david wu'</span> &#125;</div><div class="line">&#123; <span class="string">'0'</span>: <span class="string">'wu'</span>, <span class="string">'1'</span>: <span class="number">6</span>, <span class="string">'2'</span>: <span class="string">'david wu'</span> &#125;</div></pre></td></tr></table></figure></p>
<p>可以看出，第一个参数为匹配的字段，第二个参数为匹配字段的索引，第三个字段为完整字符串。<br>具体应用可以看以下例子，以下例子将一串字母的每个单词首字母变为大写。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">name</div><div class="line"><span class="string">'david wu'</span></div><div class="line">reg</div><div class="line">/\b\w+\b/g</div><div class="line">name.replace(reg,<span class="function"><span class="keyword">function</span>(<span class="params">word</span>)</span>&#123;<span class="keyword">return</span> word.substring(<span class="number">0</span>,<span class="number">1</span>).toUpperCase()+word.substring(<span class="number">1</span>);&#125;)</div><div class="line"><span class="string">'David Wu'</span></div></pre></td></tr></table></figure></p>
<p>#2 实例</p>
<h2 id="2-1-是否为URL"><a href="#2-1-是否为URL" class="headerlink" title="2.1 是否为URL"></a>2.1 是否为URL</h2><p>这个当前项目中用于验证是否为正确的url的正则。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">url = <span class="string">'http://192.168.0.39:9080/'</span></div><div class="line"><span class="string">'http://192.168.0.39:9080/'</span></div><div class="line">isurl</div><div class="line">/^((https|http|ftp|rtsp|mms):<span class="comment">//)?[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;.[0-9]&#123;1,3&#125;(:[0-9]&#123;1,4&#125;)?/?$/</span></div><div class="line">isurl.test(url)</div><div class="line"><span class="literal">true</span></div><div class="line">url = <span class="string">'http://192.168.0.39:9080'</span></div><div class="line"><span class="string">'http://192.168.0.39:9080'</span></div><div class="line">isurl.test(url)</div><div class="line"><span class="literal">true</span></div><div class="line">url = <span class="string">'http://192.168.0.39'</span></div><div class="line"><span class="string">'http://192.168.0.39'</span></div><div class="line">isurl.test(url)</div><div class="line"><span class="literal">true</span></div><div class="line">url = <span class="string">'192.168.0.39'</span></div><div class="line"><span class="string">'192.168.0.39'</span></div><div class="line">isurl.test(url)</div><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure></p>
<h2 id="2-2-是否为18位身份证号"><a href="#2-2-是否为18位身份证号" class="headerlink" title="2.2 是否为18位身份证号"></a>2.2 是否为18位身份证号</h2><p>身份证号都为18位，第一位为非0数字，后16位数字，最后一位可以是数字或者字母。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">isidcard = <span class="regexp">/[1-9][\d]&#123;16&#125;[0-9A-Z]/g</span></div><div class="line"><span class="keyword">var</span> idcard1 = <span class="string">'350781198811140019'</span>;</div><div class="line"><span class="literal">undefined</span></div><div class="line"><span class="keyword">var</span> idcard2 = <span class="string">'35078119881114001Z'</span>;</div><div class="line"><span class="literal">undefined</span></div><div class="line">idcard1.match(isidcard)</div><div class="line">[ <span class="string">'350781198811140019'</span> ]</div><div class="line">idcard2.match(isidcard)</div><div class="line">[ <span class="string">'35078119881114001Z'</span> ]</div></pre></td></tr></table></figure></p>
<h2 id="2-3-带校验位的18位身份证号验证"><a href="#2-3-带校验位的18位身份证号验证" class="headerlink" title="2.3 带校验位的18位身份证号验证"></a>2.3 带校验位的18位身份证号验证</h2><p>身份证的最后一位是校验位，根据前17位算出最后一位，最后验证最后一位是否正确。下例就为一个实际的身份证验证模块。<br><figure class="highlight javascript"><figcaption><span>idcard.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">IdCard</span>(<span class="params">idcard</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>._idcard = idcard;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = IdCard;</div><div class="line"></div><div class="line">IdCard.prototype.check = <span class="function"><span class="keyword">function</span> <span class="title">checkidcard</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="literal">false</span>;</div><div class="line">    <span class="keyword">var</span> checkchar = [<span class="string">'1'</span>,<span class="string">'0'</span>,<span class="string">'X'</span>,<span class="string">'9'</span>,<span class="string">'8'</span>,<span class="string">'7'</span>,<span class="string">'6'</span>,<span class="string">'5'</span>,<span class="string">'4'</span>,<span class="string">'3'</span>,<span class="string">'2'</span>];</div><div class="line">    <span class="keyword">var</span> checkweight = [<span class="number">7</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>];</div><div class="line">    <span class="keyword">var</span> isidcard = <span class="regexp">/[1-9][\d]&#123;16&#125;[0-9A-Z]/g</span>;</div><div class="line">    <span class="keyword">if</span>(isidcard.test(<span class="keyword">this</span>._idcard))&#123;</div><div class="line">        <span class="keyword">var</span> sumMult = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;=<span class="number">16</span>;i++)&#123;</div><div class="line">            <span class="keyword">var</span> ch = <span class="keyword">this</span>._idcard.substring(i,i+<span class="number">1</span>);</div><div class="line">            sumMult = sumMult + ch * checkweight[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>._idcard.substring(<span class="number">17</span>,<span class="number">18</span>) === checkchar[sumMult%<span class="number">11</span>]  )&#123;</div><div class="line">            result = <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><figcaption><span>控制台</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> IdCard = <span class="built_in">require</span>(<span class="string">'./idcard'</span>);<span class="keyword">var</span> idCard = <span class="keyword">new</span> IdCard(<span class="string">'350781198811140019'</span>);idCard.check();</div><div class="line"><span class="literal">true</span></div><div class="line"><span class="keyword">var</span> idCard = <span class="keyword">new</span> IdCard(<span class="string">'350781198811140041'</span>);idCard.check();</div><div class="line"><span class="literal">false</span></div><div class="line"><span class="keyword">var</span> idCard = <span class="keyword">new</span> IdCard(<span class="string">'350781198811140043'</span>);idCard.check();</div><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/02/03/2014-02-03-regular-expressions-in-javascript-a-the-basics/" itemprop="url">
                  javascript中的正则表达式（一）---基础知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-02-03T13:11:00+08:00" content="2014-02-03">
              2014-02-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Regexp/" itemprop="url" rel="index">
                    <span itemprop="name">Regexp</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Regexp/码年/" itemprop="url" rel="index">
                    <span itemprop="name">码年</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Regexp/码年/正则表达式/" itemprop="url" rel="index">
                    <span itemprop="name">正则表达式</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#码年快乐<br>过年可以算是玩疯了，初一到初三，就没咋闲着。不过，可以确定的是，过年也不能得瑟啊，除夕一朋友打麻将输了1000个字，我信誓旦旦的说，我这辈子打麻将都没输过1000个字。然后，初一下午我就输了1030个字= =满脸黑线，这绝对是诅咒，没想到小伙伴你还会诅咒啊。<br>过年还有个比较快乐的事情就是和好基友打DOTA各种虐菜，我们这些无耻的人，就在大过年把自己的快乐建立在别人的悲催纸上，海牙红毛、小精灵红猫、跳刀AA和跳刀军团，游走的飞起。<br>然后还玩了游乐场，而且还做了旋转木马，可以说，下巴差点笑脱臼，脸部肌肉已经笑抽筋了。<br>顺便还去看了电影，爸爸去哪儿，还是挺有笑料的，哈哈哈。<br>其他开心的事情还做了很多，就不一一晒出来了。<br>初四了，该稍微收一收心了，今天去外婆家住3天，陪陪老人家，也顺便调整下状态。今天除了教外婆用我新买个外婆的智能机以外，就是学习了。最近觉得javascript的正则有些薄弱，就好好的补课了下。接下来的两篇博文就写正则吧。第一篇为基础知识篇，第二篇我会整理写项目中用到的正则来说明下。</p>
<p>#1 基本知识<br>是对字符串执行模式匹配的强大工具。使用正则表达式有两种方法：RegExp对象和直接量语法，如果觉得自己基本知识都OK，那跳过这段别看吧，很多东西我也就是从官方文档搬的。</p>
<h2 id="1-1-RegExp对象"><a href="#1-1-RegExp对象" class="headerlink" title="1.1 RegExp对象"></a>1.1 RegExp对象</h2><p>创建RegExp对象语法：new RegExp(pattern, attributes)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[0-9]"</span>,<span class="string">"g"</span>);</div><div class="line"><span class="keyword">var</span> str=<span class="string">"abd1afa4sdf"</span>;</div><div class="line">str.replace(reg,<span class="string">"num"</span>);</div><div class="line"><span class="string">'abdnumafanumsdf'</span></div></pre></td></tr></table></figure>
<p>Regexp对象有test(是否匹配)、exec（查找下一个匹配）这两个方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">reg = <span class="regexp">/\d/g</span></div><div class="line">reg.test(str)</div><div class="line">reg.exec(str)</div><div class="line"><span class="comment">//[ '4',  index: 7,  input: 'abd1afa4sdf' ]</span></div><div class="line">reg = <span class="regexp">/\d/</span></div><div class="line">reg.exec(str)</div><div class="line"><span class="comment">//[ '1',  index: 3,  input: 'abd1afa4sdf' ]</span></div><div class="line">reg.exec(str)</div><div class="line"><span class="comment">//[ '1',  index: 3,  input: 'abd1afa4sdf' ]</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">reg</div><div class="line">/&lt;%([^%&gt;]+)?%&gt;/g</div><div class="line">str = 'This is &lt;%a%test &lt;%template%&gt;'</div><div class="line">'This is &lt;%a%test &lt;%template%&gt;'</div><div class="line">reg.exec(str)</div><div class="line">[ '&lt;%a%&gt;',</div><div class="line">  'a',</div><div class="line">  index: 8,</div><div class="line">  input: 'This is &lt;%a%test &lt;%template%&gt;' ]</div><div class="line">reg.exec(str)</div><div class="line">[ '&lt;%template%&gt;',</div><div class="line">  'template',</div><div class="line">  index: 19,</div><div class="line">  input: 'This is &lt;%a%test &lt;%template%&gt;' ]</div></pre></td></tr></table></figure>
<h2 id="1-2-String对象的正则方法"><a href="#1-2-String对象的正则方法" class="headerlink" title="1.2 String对象的正则方法"></a>1.2 String对象的正则方法</h2><table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>col1</td>
<td style="text-align:center">search</td>
<td style="text-align:center">检索与正则表达式相匹配的值</td>
</tr>
<tr>
<td>col2</td>
<td style="text-align:center">match</td>
<td style="text-align:center">找到一个或多个正则表达式的匹配</td>
</tr>
<tr>
<td>col3</td>
<td style="text-align:center">replace</td>
<td style="text-align:center">替换与正则表达式匹配的子串</td>
</tr>
<tr>
<td>col4</td>
<td style="text-align:center">split</td>
<td style="text-align:center">把字符串分割为字符串数组</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">str</div><div class="line"><span class="string">'abd1afa4sdf'</span></div><div class="line">reg</div><div class="line">/\d/g</div><div class="line">str.search(reg)</div><div class="line"><span class="number">3</span></div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'1'</span>, <span class="string">'4'</span> ]</div><div class="line">str.split(reg)</div><div class="line">[ <span class="string">'abd'</span>, <span class="string">'afa'</span>, <span class="string">'sdf'</span> ]</div><div class="line">str.replace(reg,<span class="string">'num'</span>)</div><div class="line"><span class="string">'abdnumafanumsdf'</span></div></pre></td></tr></table></figure>
<h2 id="1-3-直接量语法"><a href="#1-3-直接量语法" class="headerlink" title="1.3 直接量语法"></a>1.3 直接量语法</h2><p>直接量语法：/pattern/attributes<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  reg = <span class="regexp">/[0-9]/g</span></div><div class="line"><span class="keyword">var</span> str=<span class="string">"abd1afa4sdf"</span>;</div><div class="line">str.replace(reg,<span class="string">"num"</span>);</div><div class="line"><span class="string">'abdnumafanumsdf'</span></div></pre></td></tr></table></figure></p>
<h2 id="1-4-参数说明"><a href="#1-4-参数说明" class="headerlink" title="1.4 参数说明"></a>1.4 参数说明</h2><ul>
<li>参数 pattern 是一个字符串，指定了正则表达式的模式或其他正则表达式。</li>
<li>参数 attributes 是一个可选的字符串，包含属性 “g”、”i” 和 “m”，分别用于指定全局匹配、区分大小写的匹配和多行匹配。ECMAScript 标准化之前，不支持 m 属性。如果 pattern 是正则表达式，而不是字符串，则必须省略该参数。</li>
</ul>
<h2 id="1-5-Attributes修饰符"><a href="#1-5-Attributes修饰符" class="headerlink" title="1.5 Attributes修饰符"></a>1.5 Attributes修饰符</h2><table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">修饰符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>col1</td>
<td style="text-align:center">i</td>
<td style="text-align:center">执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td>col2</td>
<td style="text-align:center">g</td>
<td style="text-align:center">执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td>col3</td>
<td style="text-align:center">m</td>
<td style="text-align:center">执行多行匹配。</td>
</tr>
</tbody>
</table>
<h2 id="1-6-方刮号"><a href="#1-6-方刮号" class="headerlink" title="1.6 方刮号"></a>1.6 方刮号</h2><table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">表达式</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>col1</td>
<td style="text-align:center">[abc]</td>
<td style="text-align:center">查找方括号之间的任何字符。</td>
</tr>
<tr>
<td>col2</td>
<td style="text-align:center">[^abc]</td>
<td style="text-align:center">查找任何不在方括号之间的字符。</td>
</tr>
<tr>
<td>col3</td>
<td style="text-align:center">[0-9]</td>
<td style="text-align:center">查找任何从 0 至 9 的数字。</td>
</tr>
<tr>
<td>col4</td>
<td style="text-align:center">[a-z]</td>
<td style="text-align:center">查找任何从小写 a 到小写 z 的字符。</td>
</tr>
<tr>
<td>col5</td>
<td style="text-align:center">[A-Z]</td>
<td style="text-align:center">查找任何从大写 A 到大写 Z 的字符。</td>
</tr>
<tr>
<td>col6</td>
<td style="text-align:center">[A-z]</td>
<td style="text-align:center">查找任何从大写 A 到小写 z 的字符。</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">reg = <span class="regexp">/[0-9]/g</span></div><div class="line"><span class="keyword">var</span> str=<span class="string">"abd1afa4sdf"</span>;</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'1'</span>, <span class="string">'4'</span> ]</div><div class="line">reg = <span class="regexp">/[^1-9]/g</span></div><div class="line">/[^<span class="number">1</span><span class="number">-9</span>]/g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'a'</span>,  <span class="string">'b'</span>,  <span class="string">'d'</span>,  <span class="string">'a'</span>,  <span class="string">'f'</span>,  <span class="string">'a'</span>,  <span class="string">'s'</span>,  <span class="string">'d'</span>,  <span class="string">'f'</span> ]</div></pre></td></tr></table></figure>
<h2 id="1-7-元字符"><a href="#1-7-元字符" class="headerlink" title="1.7 元字符"></a>1.7 元字符</h2><table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">元字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>col1</td>
<td style="text-align:center">.</td>
<td style="text-align:center">查找单个字符，除了换行和行结束符。</td>
</tr>
<tr>
<td>col2</td>
<td style="text-align:center">\w</td>
<td style="text-align:center">查找单词字符。</td>
</tr>
<tr>
<td>col3</td>
<td style="text-align:center">\W</td>
<td style="text-align:center">查找非单词字符。</td>
</tr>
<tr>
<td>col4</td>
<td style="text-align:center">\d</td>
<td style="text-align:center">查找数字。</td>
</tr>
<tr>
<td>col5</td>
<td style="text-align:center">\D</td>
<td style="text-align:center">查找非数字字符。</td>
</tr>
<tr>
<td>col6</td>
<td style="text-align:center">\s</td>
<td style="text-align:center">查找空白字符。</td>
</tr>
<tr>
<td>col7</td>
<td style="text-align:center">\S</td>
<td style="text-align:center">查找非空白字符。</td>
</tr>
<tr>
<td>col8</td>
<td style="text-align:center">\b</td>
<td style="text-align:center">匹配单词边界。</td>
</tr>
<tr>
<td>col9</td>
<td style="text-align:center">\B</td>
<td style="text-align:center">匹配非单词边界。</td>
</tr>
<tr>
<td>col10</td>
<td style="text-align:center">\0</td>
<td style="text-align:center">查找 NUL 字符。</td>
</tr>
<tr>
<td>col11</td>
<td style="text-align:center">\n</td>
<td style="text-align:center">查找换行符。</td>
</tr>
<tr>
<td>col12</td>
<td style="text-align:center">\f</td>
<td style="text-align:center">查找换页符。</td>
</tr>
<tr>
<td>col13</td>
<td style="text-align:center">\r</td>
<td style="text-align:center">查找回车符。</td>
</tr>
<tr>
<td>col14</td>
<td style="text-align:center">\t</td>
<td style="text-align:center">查找制表符。</td>
</tr>
<tr>
<td>col15</td>
<td style="text-align:center">\v</td>
<td style="text-align:center">查找垂直制表符。</td>
</tr>
<tr>
<td>col16</td>
<td style="text-align:center">\xxx</td>
<td style="text-align:center">查找以八进制数 xxx 规定的字符。</td>
</tr>
<tr>
<td>col17</td>
<td style="text-align:center">\xdd</td>
<td style="text-align:center">查找以十六进制数 dd 规定的字符。</td>
</tr>
<tr>
<td>col18</td>
<td style="text-align:center">\uxxxx</td>
<td style="text-align:center">查找以十六进制数 xxxx 规定的 Unicode 字符。</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">reg = <span class="regexp">/./g</span></div><div class="line">/./g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'a'</span>,  <span class="string">'b'</span>,  <span class="string">'d'</span>,  <span class="string">'1'</span>,  <span class="string">'a'</span>,  <span class="string">'f'</span>,  <span class="string">'a'</span>,  <span class="string">'4'</span>,  <span class="string">'s'</span>,  <span class="string">'d'</span>,  <span class="string">'f'</span> ]</div><div class="line">reg = <span class="regexp">/\d/g</span></div><div class="line">/\d/g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'1'</span>, <span class="string">'4'</span> ]</div><div class="line">reg = <span class="regexp">/\D/g</span></div><div class="line">/\D/g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'a'</span>,  <span class="string">'b'</span>,  <span class="string">'d'</span>,  <span class="string">'a'</span>,  <span class="string">'f'</span>,  <span class="string">'a'</span>,  <span class="string">'s'</span>,  <span class="string">'d'</span>,  <span class="string">'f'</span> ]</div><div class="line">reg = <span class="regexp">/\w/g</span></div><div class="line">/\w/g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'a'</span>,  <span class="string">'b'</span>,  <span class="string">'d'</span>,  <span class="string">'1'</span>,  <span class="string">'a'</span>,  <span class="string">'f'</span>,  <span class="string">'a'</span>,  <span class="string">'4'</span>,  <span class="string">'s'</span>,  <span class="string">'d'</span>,  <span class="string">'f'</span> ]</div><div class="line">reg = <span class="regexp">/\W/g</span></div><div class="line">/\W/g</div><div class="line">str.match(reg)</div><div class="line"><span class="literal">null</span></div></pre></td></tr></table></figure>
<h2 id="1-8-量词"><a href="#1-8-量词" class="headerlink" title="1.8 量词"></a>1.8 量词</h2><table>
<thead>
<tr>
<th>Tables        量词</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>col1</td>
<td style="text-align:center">n+</td>
<td style="text-align:center">匹配任何包含至少一个 n 的字符串。</td>
</tr>
<tr>
<td>col2</td>
<td style="text-align:center">n*</td>
<td style="text-align:center">匹配任何包含零个或多个 n 的字符串。</td>
</tr>
<tr>
<td>col3</td>
<td style="text-align:center">n?</td>
<td style="text-align:center">匹配任何包含零个或一个 n 的字符串。</td>
</tr>
<tr>
<td>col4</td>
<td style="text-align:center">n{X}</td>
<td style="text-align:center">匹配包含 X 个 n 的序列的字符串。</td>
</tr>
<tr>
<td>col5</td>
<td style="text-align:center">n{X,Y}</td>
<td style="text-align:center">匹配包含 X 或 Y 个 n 的序列的字符串。</td>
</tr>
<tr>
<td>col6</td>
<td style="text-align:center">n{X,}</td>
<td style="text-align:center">匹配包含至少 X 个 n 的序列的字符串。</td>
</tr>
<tr>
<td>col7</td>
<td style="text-align:center">n$</td>
<td style="text-align:center">匹配任何结尾为 n 的字符串。</td>
</tr>
<tr>
<td>col8</td>
<td style="text-align:center">^n</td>
<td style="text-align:center">匹配任何开头为 n 的字符串。</td>
</tr>
<tr>
<td>col9</td>
<td style="text-align:center">?=n</td>
<td style="text-align:center">匹配任何其后紧接指定字符串 n 的字符串。</td>
</tr>
<tr>
<td>col10</td>
<td style="text-align:center">?!n</td>
<td style="text-align:center">匹配任何其后没有紧接指定字符串 n 的字符串。</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'abd'</span>, <span class="string">'afa'</span>, <span class="string">'sdf'</span> ]</div><div class="line">str</div><div class="line"><span class="string">'abd1afa4sdf'</span></div><div class="line">reg = <span class="regexp">/(\D+)/g</span></div><div class="line">/(\D+)/g</div><div class="line">str.match(reg)</div><div class="line">[ <span class="string">'abd'</span>, <span class="string">'afa'</span>, <span class="string">'sdf'</span> ]</div></pre></td></tr></table></figure>
<p>测试邮箱<br><figure class="highlight javascript"><figcaption><span>testMail</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mailstr = <span class="string">'xiao303178384@gmail.com'</span></div><div class="line"><span class="literal">undefined</span></div><div class="line">reg = <span class="regexp">/(\w+)@(\w+)\.com/g</span></div><div class="line">/(\w+)@(\w+)\.com/g</div><div class="line">reg.test(mailstr)</div><div class="line"><span class="literal">true</span></div><div class="line">mailstr = <span class="string">'xiao303178384@gmail.co'</span></div><div class="line"><span class="string">'xiao303178384@gmail.co'</span></div><div class="line">reg.test(mailstr)</div><div class="line"><span class="literal">false</span></div><div class="line">mailstr = <span class="string">'xiao303178384@gmailcom'</span></div><div class="line"><span class="string">'xiao303178384@gmailcom'</span></div><div class="line">reg.test(mailstr)</div><div class="line"><span class="literal">false</span></div><div class="line">mailstr = <span class="string">'xiao303178384@qq.com'</span></div><div class="line"><span class="string">'xiao303178384@qq.com'</span></div><div class="line">reg.test(mailstr)</div><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/30/2014-01-30-yards-to-succeed-dont-run-red-envelopes-from-the-year-end-was/" itemprop="url">
                  码到成功----不发红包年终就是流氓
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-30T03:41:00+08:00" content="2014-01-30">
              2014-01-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人随笔/怨文/" itemprop="url" rel="index">
                    <span itemprop="name">怨文</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人随笔/怨文/年终/" itemprop="url" rel="index">
                    <span itemprop="name">年终</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>明年就是程序猿年，如果你问我为什么是程序猿年，你就too young too simple,sometimes naive了，因为，明年是“码”年啊。<br>再过12个小时，伴随着新年的钟声，夹杂着数亿华夏同胞的倒数，中国年，程序猿年就要到来了。提前预祝大家，红包多多，年终多多。<br>可是，就在你们数着年终，期盼着红包的时候。俺们公司竟然发了封邮件友情提示，年终要3月初发。我当时立马就瓦擦咧了，年终少我一定不会抱怨，可是年后发和不发其实差别不大。年终数额就小，但是过年嘛，有奖金和没奖金的差别是很大的。迟一个月发，公司最多就把钱放在银行多捞了几分利息，或者有人说这样是为了防止年后大规模跳槽，如果老板是这种想法的话，我就呵呵了，顺便感叹下，老板您英明神武千秋万载，一定能靠您一个人统一浆糊的，咱就不给您添乱了，猪您好运。<br>但是，年后发年终，而对于员工来说， <strong>那喜悦的心情打了一个大折扣</strong> ，心情低落了，满意度下降，那之后工作的干劲也就持续低迷。甚至手上有着offer还在犹豫的人，立马就下了决定要离职了。<br>但是，就算离职，年后奖金还是要照发给别人的，因为那是别人去年努力工作应得的。所以，如果看到此文的您是个老板，你有没有觉得这样做就是 <strong>发了奖金，反而还没讨好</strong> 。<br>资源要用到刀刃上，你和员工斤斤计较个啥啊。和员工讨价还价剩出点钱有意义吗？员工满意度上升，积极性上去，效率高了，多签一个合同都不止那些钱。我觉得，公司第一个不能亏待的就是员工，第二才是客户，最后的最后才是自己。成天考虑怎么和员工苛刻，还不如去想想明年公司有什么要改进，有什么业务需要扩展，互联网这么火怎么在大潮中捞一杯羹，而不是从在员工的碗里缺斤少两。曹操这个CEO也曾经在将士们的粮草上缺斤少两，不过还好他及时发现，让粮官背了黑锅才挽救了员工对自己的满意度。<br>今天是除夕，本不该写怨文。只是看着我即将给出去的大把红包和没有收到的年终奖，发发牢骚。好了。过年了，不抱怨了，走不走人，年后决定，先把年过好才是上上之策。<br>下图为我要给出去的红包T.T。<br><img src="http://user-image.logdown.io/user/3769/blog/3827/post/177653/VZI71ijoR5mjnOTx0a6N_1.jpg" alt="1.jpg"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/29/2014-01-29-bullshit-an-array-of-work-javascript-c/" itemprop="url">
                  瞎扯工作的乐趣--------javascript中的数组（三）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-29T07:10:00+08:00" content="2014-01-29">
              2014-01-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/工作/" itemprop="url" rel="index">
                    <span itemprop="name">工作</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/工作/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/工作/个人随笔/数组/" itemprop="url" rel="index">
                    <span itemprop="name">数组</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/工作/个人随笔/数组/兴趣/" itemprop="url" rel="index">
                    <span itemprop="name">兴趣</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>明天就除夕了，想到好几天估计都写不了博文，今天就早上写一篇，下午写一篇了。<br>教育真是个麻烦的问题啊，我是还没那么快要愁这个问题，但是我弟的教育问题还真是棘手啊。由于我是各种野，从小就有机会就往外跑，标准型的非宅男，所以家里觉得我太野了管不住。之后我弟的教育就是限制的很死，一直把他管在家里。但是他现在是赶都赶不出去的节奏。<br>但是你以为他窝在家里是学习，你就错了。可以玩游戏就玩游戏，不能玩游戏就用手机看游戏对战的录像，不让看录像就玩手机，不让玩手机你以为他就真的会去读书你就更错了。他坐在桌子前剪纸张也不做作业的。就算墙壁着，在旁边监督，他也会各种发呆。<br>所以经常家里听到的一句话，怎么这么懒啊，当初爸妈读书环境是多么艰苦啥啥啥的bilibala一堆。虽然是为了教育，但是我觉得这种方式不对。<br>第一，这绝对不是因为懒，是因为兴趣问题，或者是一直就没有一个引起孩子乐于看书的一个契机。从小我就讨厌写作文，高三时候甚至决定，毕业后再也不写作文。但是，后来我就爱上写随笔，写杂文，偶尔还装下B，学下文艺青年写散文。应试教育的目的就是让你对所有的学科都拿不出兴趣来。为什么我对理科情有独钟，我觉得很大一部分因素是小学时候的数学老师我很喜欢，当时有很多有趣的奥数问题我都很爱去请教他，再之后说数学学得好，理化生就一定学得好，所以我理科全部都很好。高中时候有一次考试没考语文和英语，我竟然考进了年段前31，那可是比厦大分数高的多，就差清华不远的分数啊。可见，兴趣多关键，如果启蒙教育的时候能让我对英语、语文感兴趣，我深刻的觉得，我之后的四年应该是坐在清华的校园里面。。。。。。。打DOTA的，想一想还有点小激动哦。开个玩笑，歹势啊，哈哈哈！<br>第二，为什么一定要提那么多环境因素的苦难，难道是苦难是成功之爹吗？司马迁因为受了宫刑才写成了史记？孙膑因为膝盖XX才著成孙子兵法？奥特曼因为被怪兽暴打一顿最后才能战胜怪兽吗？我觉得都是瞎扯，苦难者到处说自己的苦难无非两种心理，一是希望得到鼓励，二是觉得自己起点低有这样的成就已经是人上人了，你们应该赞同我。<br>不小心扯远了点，总之，教育不在于说“苦”，而在于“趣”。那如何才能产生兴趣呢？我觉得在于“深入”。一首歌对于一个普通听众来说，感受就是好听，但对于一个专业音乐人来说，他可能就会感叹，这首歌的大三度升KEY实在是太美妙了。可以说，钻研的越深，获得的乐趣也就越大。很多人说程序员苦逼，很多人程序员也就觉得自己苦逼。但是你真的了解到程序的乐趣了吗？成天搬代码能有快乐吗？是否深入考虑下有没有什么更好的实现？为什么要搬一样的代码，可以不可以用模板引擎搞定？java实现一个功能要这么多代码，是否有更高级的语言，更灵活的实现？是否有更好的设计模式？这套架构设计的这么精妙的事情你爸妈知道吗？<br>开始我就说了吧，我是瞎扯，扯了这么多还是回到标题吧，就是一句话， <strong>做什么你只要认真做，用脑子做，做的深入了，工作的乐趣也就产生了，不要成天抱怨工作了，更不要抱怨别人的年终奖金有多少，与其临渊羡鱼，不如退而结网。</strong> 写给所有人，同时也写给自己，保持对工作的乐趣。</p>
<p>————————————–分割线：序号延续二篇—————————-</p>
<h2 id="2-11-转换成数组slice"><a href="#2-11-转换成数组slice" class="headerlink" title="2.11 转换成数组slice"></a>2.11 转换成数组slice</h2><p>Slice把类数组浅拷贝转换成新的数组，他需要两个参数，一个是开始位置，一个是结束位置。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.slice.call(&#123; <span class="number">0</span>: <span class="string">'David'</span>, <span class="number">1</span>: <span class="string">'Wu'</span>,<span class="number">3</span>:<span class="string">'Hello'</span>, <span class="attr">length</span>: <span class="number">2</span> &#125;)</div><div class="line"><span class="comment">//['David', 'Wu']</span></div></pre></td></tr></table></figure></p>
<p>除此之外，另一个常见用途是从参数列表中移除最初的几个元素，并将类数组对象转换为真正的数组。比如下面例子中，就是在用call调用方法的时候，用来从指定开始位置截取传入参数。<br><figure class="highlight javascript"><figcaption><span>format.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">format</span> (<span class="params">text, bold</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (bold) &#123;</div><div class="line">        text = <span class="string">'&lt;b&gt;'</span> + text + <span class="string">'&lt;/b&gt;'</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</div><div class="line">    <span class="keyword">var</span> values = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">    values.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">        text = text.replace(<span class="string">'%s'</span>, value);</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> text;</div><div class="line">&#125;</div><div class="line"><span class="built_in">module</span>.exports = format;</div><div class="line">~</div></pre></td></tr></table></figure></p>
<p>输出如下:<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var format = require('./format.js');format('some%sthing%s %s', true, 'some', 'other', 'things');</div><div class="line">&#123; '0': '&lt;b&gt;some%sthing%s %s&lt;/b&gt;',</div><div class="line">  '1': true,</div><div class="line">  '2': 'some',</div><div class="line">  '3': 'other',</div><div class="line">  '4': 'things' &#125;</div><div class="line">'&lt;b&gt;somesomethingother things&lt;/b&gt;'</div></pre></td></tr></table></figure></p>
<h2 id="2-12-万能删除插入函数splice"><a href="#2-12-万能删除插入函数splice" class="headerlink" title="2.12 万能删除插入函数splice"></a>2.12 万能删除插入函数splice</h2><p>splice允许你在index索引后删除howmany个元素，并在该位置插入任意数量新元素，这种操作是在原数组上的修改，返回值为被删除的元素。<br>用法：arrayObject.splice(index,howmany,item1,…..,itemX)<br>例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node</div><div class="line"><span class="keyword">var</span> source = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>];</div><div class="line"><span class="keyword">var</span> spliced = source.splice(<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</div><div class="line"><span class="comment">//console.log(spliced);</span></div><div class="line">[ <span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span> ]</div><div class="line"><span class="comment">//console.log(source);</span></div><div class="line">[ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span> ]</div></pre></td></tr></table></figure></p>
<p>source.splice(3, 4, 4, 5, 6, 7)意思是在索引为3的位置开始删除4个元素，插入4,5,6,7这几个元素。</p>
<h2 id="2-13-查找函数indexOf"><a href="#2-13-查找函数indexOf" class="headerlink" title="2.13 查找函数indexOf"></a>2.13 查找函数indexOf</h2><p>可以在数组中寻找指定变量的索引（值类型比较值，引用类型比较引用），如果没找到返回-1。函数第一个参数为查找的变量，第二个参数为开始查找的位置。Java中的数组、字符串等也都有indexOf函数，特别是字符串的该函数，用法很类似。看以下例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = &#123;<span class="string">'firstname'</span>:<span class="string">'David'</span>,<span class="string">'lastname'</span>:<span class="string">'Wu'</span>&#125;</div><div class="line"><span class="keyword">var</span> man = &#123;<span class="string">'firstname'</span>:<span class="string">'David'</span>,<span class="string">'lastname'</span>:<span class="string">'Wu'</span>&#125;</div><div class="line"><span class="keyword">var</span> woman = &#123;<span class="string">'firstname'</span>:<span class="string">'Ying'</span>,<span class="string">'lastname'</span>:<span class="string">'Tang'</span>&#125;</div><div class="line"><span class="keyword">var</span> family = [man,woman,<span class="string">'baby is null'</span>]</div><div class="line"><span class="comment">//查找不存在的变量</span></div><div class="line">family.indexOf(<span class="string">'1'</span>)</div><div class="line"><span class="number">-1</span></div><div class="line"><span class="comment">//查找存在变量值相同但引用不同的引用类型对象，结果是找不阿东</span></div><div class="line">family.indexOf(&#123;<span class="string">'firstname'</span>:<span class="string">'David'</span>,<span class="string">'lastname'</span>:<span class="string">'Wu'</span>&#125;)</div><div class="line"><span class="number">-1</span></div><div class="line"><span class="comment">//同上，只是换了种形式</span></div><div class="line">family.indexOf(a)</div><div class="line"><span class="number">-1</span></div><div class="line"><span class="comment">//相同引用的引用类型对象，可以找到</span></div><div class="line">family.indexOf(man)</div><div class="line"><span class="number">0</span></div><div class="line"><span class="comment">//同上</span></div><div class="line">family.indexOf(woman)</div><div class="line"><span class="number">1</span></div><div class="line"><span class="comment">//相同值的值类型对象，可以找到</span></div><div class="line">family.indexOf(<span class="string">'baby is null'</span>)</div><div class="line"><span class="number">2</span></div><div class="line"><span class="comment">//从索引1开始找，所以0位置的变量找不到</span></div><div class="line">family.indexOf(man,<span class="number">1</span>)</div><div class="line"><span class="number">-1</span></div><div class="line">family.indexOf(woman,<span class="number">1</span>)</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>2.14 索引检索函数in<br>别把它和indexOf混淆了。in操作符通过检索对象的键(key)来寻值，而不是搜索值。当然，这在性能上比.indexOf快得多。还是上面的例子的变量。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span> <span class="keyword">in</span> family</div><div class="line"><span class="literal">true</span></div><div class="line">man <span class="keyword">in</span> family</div><div class="line"><span class="literal">false</span></div><div class="line"><span class="number">2</span> <span class="keyword">in</span> family</div><div class="line"><span class="literal">true</span></div><div class="line"><span class="number">3</span> <span class="keyword">in</span> family</div><div class="line"><span class="literal">false</span></div></pre></td></tr></table></figure></p>
<p>2.15 数组反转函数reverse<br>将数组反转，原数组改变，并返回。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">family</div><div class="line">[ &#123; <span class="attr">firstname</span>: <span class="string">'David'</span>, <span class="attr">lastname</span>: <span class="string">'Wu'</span> &#125;,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'Ying'</span>, <span class="attr">lastname</span>: <span class="string">'Tang'</span> &#125;,</div><div class="line">  <span class="string">'baby is null'</span> ]</div><div class="line">family.reverse()</div><div class="line">[ <span class="string">'baby is null'</span>,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'Ying'</span>, <span class="attr">lastname</span>: <span class="string">'Tang'</span> &#125;,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'David'</span>, <span class="attr">lastname</span>: <span class="string">'Wu'</span> &#125; ]</div><div class="line">family</div><div class="line">[ <span class="string">'baby is null'</span>,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'Ying'</span>, <span class="attr">lastname</span>: <span class="string">'Tang'</span> &#125;,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'David'</span>, <span class="attr">lastname</span>: <span class="string">'Wu'</span> &#125; ]</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/29/2014-01-29-arrays-in-wuyi-travel-javascript-b/" itemprop="url">
                  武夷游记-----javascript中的数组（二）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-29T03:53:00+08:00" content="2014-01-29">
              2014-01-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/游记/" itemprop="url" rel="index">
                    <span itemprop="name">游记</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/游记/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/游记/Node-js/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/游记/Node-js/个人随笔/数组/" itemprop="url" rel="index">
                    <span itemprop="name">数组</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>趁着淡季去武夷山游玩了一圈，还是挺不错的。不用看着如山如海的人头，风景都变得格外好了。由于季节原因，没有玩什么九曲竹筏漂流，但是此行的目的还是达到了。很好的放松了下身心，然后和朋友们一起出行，这路途本身就是一种享受，然后也吃到了一些特色的吃的，比如熏鹅、孝母饼。不过印象最深的就是，在武夷山读书3年的朋友，竟然把我们带错路了，我们只看着玉女峰离我们越来越远，由此可总结，去旅游千万别让路痴当导游，就算是他主场，他也能毫不犹豫的带错路。不过这样一来，我们一路吐槽反而变得非常有乐趣。<br>一回家就想写博客，写博客真成了一种病了。接下来javascript数组的第二篇，最后还有个第三篇，本系列就结束了。<br>———————–分割线：序号接第一篇————————-</p>
<h2 id="2-7-Map映射"><a href="#2-7-Map映射" class="headerlink" title="2.7 Map映射"></a>2.7 Map映射</h2><p>Map映射会将数组中所有有赋值（是赋值，null、false、空串、void 0等都会执行。）的元素都调用回调函数，再将返回的值组成一个数组。<br>Map和foreach、some、every有点像，只是map会将返回值组成一个新的数组。<br>在python中可以通过下面这种方式来达到map同样的效果。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sanitize(time_string) <span class="keyword">for</span> time_string <span class="keyword">in</span> dataList</div></pre></td></tr></table></figure></p>
<p>接着让我们来看看javascript中的例子。<br><figure class="highlight javascript"><figcaption><span>testmap.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">values = [<span class="keyword">void</span> <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">false</span>, <span class="string">''</span>,<span class="string">'5'</span>];</div><div class="line">values[<span class="number">7</span>] = <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">result = values.map(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, array</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'The '</span>+index+<span class="string">'th element is '</span>+value);</div><div class="line">    <span class="keyword">return</span> value;</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'The new array is '</span>+result);</div><div class="line">~</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node testmap.js</div><div class="line">The 0th element is undefined</div><div class="line">The 1th element is null</div><div class="line">The 2th element is false</div><div class="line">The 3th element is</div><div class="line">The 4th element is 5</div><div class="line">The 7th element is undefined</div><div class="line">The new array is ,,false,,5,,,</div></pre></td></tr></table></figure></p>
<p>可以看出，索引为5和6的元素没有执行回调函数，因为他们并没有被赋值。</p>
<p>我们还可以通过map来获取一个映射模型（python叫字典，java中叫hashmap）。<br><figure class="highlight javascript"><figcaption><span>Map.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Map</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>._map=&#123;&#125;;</div><div class="line">&#125;</div><div class="line"><span class="built_in">Map</span>.prototype.getMap = <span class="function"><span class="keyword">function</span>(<span class="params">items</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> items.map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            id:index,</div><div class="line">            name:item</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"><span class="built_in">module</span>.exports = <span class="built_in">Map</span>;</div><div class="line">~</div></pre></td></tr></table></figure></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node</div><div class="line">var Map = require('./Map.js');var map = new Map();var newmap = map.getMap(['1','3','4']);newmap;</div><div class="line">[ &#123; id: 0, name: '1' &#125;,</div><div class="line">  &#123; id: 1, name: '3' &#125;,</div><div class="line">  &#123; id: 2, name: '4' &#125; ]</div><div class="line"><span class="meta">&gt;</span></div></pre></td></tr></table></figure>
<h2 id="2-8-Filter过滤"><a href="#2-8-Filter过滤" class="headerlink" title="2.8 Filter过滤"></a>2.8 Filter过滤</h2><p>用filter方法，可以将数组的每个有赋值的元素都执行回调函数，将返回true的数组组成一个新的数组集合。<br>用法：.filter(fn(value, index, array), thisArgument)<br>例子如下：<br><figure class="highlight javascript"><figcaption><span>testfilter.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oldarray = [<span class="keyword">void</span> <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">false</span>, <span class="string">''</span>, <span class="number">1</span>];</div><div class="line">oldarray[<span class="number">8</span>]=<span class="string">'0'</span>;</div><div class="line"><span class="keyword">var</span> trueresult = oldarray.filter(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'true filte :'</span>+value);</div><div class="line">    <span class="keyword">return</span> value;</div><div class="line">    &#125;);</div><div class="line"><span class="keyword">var</span> falseresule = oldarray.filter(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'false flite :'</span>+value);</div><div class="line">    <span class="keyword">return</span> !value;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'true array is '</span>+trueresult);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'false array is '</span>+falseresule);</div><div class="line">~</div><div class="line">~</div></pre></td></tr></table></figure></p>
<p>输出：<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node testfilter.js</div><div class="line">true filte :undefined</div><div class="line">true filte :null</div><div class="line">true filte :false</div><div class="line">true filte :</div><div class="line">true filte :1</div><div class="line">true filte :0</div><div class="line">false flite :undefined</div><div class="line">false flite :null</div><div class="line">false flite :false</div><div class="line">false flite :</div><div class="line">false flite :1</div><div class="line">false flite :0</div><div class="line">true array is 1,0</div><div class="line">false array is ,,false,</div></pre></td></tr></table></figure></p>
<p>从结果可以看出，有值的才执行回调函数，回调函数返回true的原数组元素会组成一个新的数组。<br>另外可以看出0在javascript中是true，C语言玩习惯的人还真要注意这个。</p>
<h2 id="2-9-Sort排序"><a href="#2-9-Sort排序" class="headerlink" title="2.9 Sort排序"></a>2.9 Sort排序</h2><p>在sort方法中如果未提供回调函数，那么将使用字典序的顺序排，这样60会排在9的前面。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="number">60</span>,<span class="number">9</span>,<span class="number">23</span>,<span class="number">10</span>,<span class="number">28</span>].sort();</div><div class="line">[ <span class="number">10</span>,  <span class="number">23</span>,  <span class="number">28</span>,  <span class="number">60</span>,  <span class="number">9</span> ]</div></pre></td></tr></table></figure></p>
<p>回调函数有两个参数a,b，返回小于0，a在b前。等于0或者NaN则按数组原始的先后顺序。而且是用冒泡排序的方式进行排序的。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'a'</span>,<span class="number">60</span>,<span class="number">9</span>,<span class="number">23</span>,<span class="number">70</span>,<span class="number">10</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'a:'</span>+a+<span class="string">'- b:'</span>+b+<span class="string">'='</span>+(a-b)); <span class="keyword">return</span> a-b;&#125;);</div><div class="line">a:a- b:<span class="number">60</span>=<span class="literal">NaN</span></div><div class="line">a:<span class="number">60</span>- b:<span class="number">9</span>=<span class="number">51</span></div><div class="line">a:a- b:<span class="number">9</span>=<span class="literal">NaN</span></div><div class="line">a:<span class="number">60</span>- b:<span class="number">23</span>=<span class="number">37</span></div><div class="line">a:<span class="number">9</span>- b:<span class="number">23</span>=<span class="number">-14</span></div><div class="line">a:<span class="number">60</span>- b:<span class="number">70</span>=<span class="number">-10</span></div><div class="line">a:<span class="number">70</span>- b:<span class="number">10</span>=<span class="number">60</span></div><div class="line">a:<span class="number">60</span>- b:<span class="number">10</span>=<span class="number">50</span></div><div class="line">a:<span class="number">23</span>- b:<span class="number">10</span>=<span class="number">13</span></div><div class="line">a:<span class="number">9</span>- b:<span class="number">10</span>=<span class="number">-1</span></div><div class="line">[ <span class="string">'a'</span>,</div><div class="line">  <span class="number">9</span>,</div><div class="line">  <span class="number">10</span>,</div><div class="line">  <span class="number">23</span>,</div><div class="line">  <span class="number">60</span>,</div><div class="line">  <span class="number">70</span> ]</div></pre></td></tr></table></figure></p>
<h2 id="2-10-Reduce和reduceRight计算"><a href="#2-10-Reduce和reduceRight计算" class="headerlink" title="2.10 Reduce和reduceRight计算"></a>2.10 Reduce和reduceRight计算</h2><p>Reduce为从左到右，reduceRight为从右到左。每次回调函数接收到目前为止的部分结果和当前遍历的值，最后返回一个总计值。<br>用法：reduce(callback(previousValue, currentValue, index, array), initialValue)。</p>
<ul>
<li>previousValue是上一次被调用的回调函数的返回值</li>
<li>initialValue是开始时previousValue被初始化的值</li>
<li>currentValue 是当前被遍历的元素值</li>
<li>index是当前元素在数组中的索引值</li>
<li>array是对调用.reduce数组的简单引用。</li>
</ul>
<p>下例是用reduce来数组的总和：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.sum = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,value,index</span>)</span>&#123;<span class="keyword">return</span> preValue+value&#125;,<span class="number">0</span>)&#125;</div><div class="line">[<span class="built_in">Function</span>]</div><div class="line">[<span class="string">'a'</span>,<span class="number">60</span>,<span class="number">9</span>,<span class="number">23</span>,<span class="number">70</span>,<span class="number">10</span>].sum()</div><div class="line"><span class="string">'0a609237010'</span></div><div class="line">[<span class="number">60</span>,<span class="number">9</span>,<span class="number">23</span>,<span class="number">70</span>,<span class="number">10</span>].sum()</div><div class="line"><span class="number">172</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/26/2014-01-26-an-array-of-negative-thinking-is-the-javascript-a/" itemprop="url">
                  是否该持否定性思维---javascript中的数组（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-26T04:18:00+08:00" content="2014-01-26">
              2014-01-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/个人随笔/否定性思维/" itemprop="url" rel="index">
                    <span itemprop="name">否定性思维</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/个人随笔/否定性思维/自我反思/" itemprop="url" rel="index">
                    <span itemprop="name">自我反思</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/个人随笔/否定性思维/自我反思/数组/" itemprop="url" rel="index">
                    <span itemprop="name">数组</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>总算回到家了，一下车立马和小伙伴们吃久违的邵武紫溪粉去，不说有多好吃，吃的是一种回忆，人们泛着小舟逆流而上时，浪水也不断把我们打回到过去，而我们也努力在这间歇体验那曾经的美好，之后又继续摇起船桨奋力前进，直到有一天我们再也回不到过去了。<br>成长总是伴随着一些忧伤的，就像曾经的我也考公务员，最终结果是进入面试后差了0.6分。这次回来各种亲戚还依然惦记着我的公务员，不断问我，什么时候再考啊。其实我心里已经不想考了，我对公务员想法已经转变了，我认为让一个社会的优秀人才都去做公务员本来就是一种时代的退步，更何况公务员消减一半也丝毫不会影响政府工作。<br>但是，当我不断对一个东西持否定态度的时候我就要开始考虑一个问题了，我这是陷入否定性思维的泥沼了吗？否定性思维就是一个人总喜欢对任何事物持否定态度。哎，这人这么有钱，一定是黑商；这女明星这么红，一定是给潜规则了，一定有干爹；互联网金融一定是泡沫，你们这些人就等着泡沫破灭吧……这种人喜欢用否定别人的方式来让自己的失败变的理顺当然。当一个事物出现，有些人很好，他们想办法应对这种改变；而又有一部分人就喜欢做否定者，不断的否定他们，就想把你的智商拉到和他一样的水平线上，然后以他丰富的白痴经验打败你。或许他们的否定是对的，但是，他们这样的人我认为是不会成功的。<br>所以我就陷入沉思了，我是因为自己没考上，然后才持否定态度吗？我觉得，真不是，至少不完全是。我没有继续考，也主要是因为这个公务员这个稳定的米缸在我看来一是很无趣，让生活失去目标，二是这个米缸的好日子也差不多到头了吧，米缸里面的米已经被大批大批的老鼠吃的差不多了哦。不想谈政治，只是突发奇想的思考了下自己是否变成了一个否定者了，很好的是，我还不完全是，但是，公务员怎么怎么样又关我何事要我去唠叨呢？所以避免言多有失，我还是少说话，多敲代码吧。</p>
<p>————————————分割线———————————–<br>util篇的第二篇暂时不准备写，因为我觉得还有很多各重要的知识应该要先好好巩固下，比如javascript的数组对象。内容比较多，分几篇博文来写吧。<br>在Javascript中，我经常用[]的方式来便捷的创建数组（当然也可以用Array构造函数），但是我并不了解他。由于项目中有用到，所以特地找了一些资料学习了下。本文就是javascript数组的学习笔记。</p>
<p>#1 概述<br>数组对象继承自Object.prototype，对数组执行typeof操作符返回‘object’而不是‘array’。然而执行[] instanceof Array返回true。此外，还有类数组对象使问题更复杂，如字符串对象，arguments对象。arguments对象不是Array的实例，但却有个length属性，并且值能通过索引获取，所以能像数组一样通过循环操作。</p>
<p>#2 数组原型的方法</p>
<ul>
<li>循环.forEach</li>
<li>断言.some和.every</li>
<li>.join和.concat的区别</li>
<li>栈和队列.pop，.push，.shift和.unshift</li>
<li>模型映射.map</li>
<li>查询.filter</li>
<li>排序.sort</li>
<li>计算.reduce和.reduceRight</li>
<li>复制.slice</li>
<li>万能的.splice</li>
<li>查找.indexOf</li>
<li>in操作符</li>
<li>reverse</li>
</ul>
<h2 id="2-1-循环foreach"><a href="#2-1-循环foreach" class="headerlink" title="2.1 循环foreach"></a>2.1 循环foreach</h2><p>该方法IE9+上才支持。所以现在公司不允许使用该函数。<br>使用形式：[].foreach(callback)<br>回调函数传入三个参数如下：</p>
<ul>
<li>value 当前操作的数组元素</li>
<li>index 当前操作元素的数组索引</li>
<li>array 当前数组的引用</li>
</ul>
<figure class="highlight javascript"><figcaption><span>testForeach.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'_'</span>, <span class="string">'t'</span>, <span class="string">'a'</span>, <span class="string">'n'</span>, <span class="string">'i'</span>, <span class="string">'f'</span>, <span class="string">']'</span>].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index, array</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.push(<span class="built_in">String</span>.fromCharCode(value.charCodeAt() + index + <span class="number">2</span>))</div><div class="line">    &#125;, out = [])</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(out.join(<span class="string">''</span>));</div><div class="line"><span class="built_in">console</span>.log(out);</div></pre></td></tr></table></figure>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node testForeach.js</div><div class="line">awesome</div><div class="line">[ 'a', 'w', 'e', 's', 'o', 'm', 'e' ]</div></pre></td></tr></table></figure>
<p>可以传递可选的第二个参数(上例中的out)，作为每个调用函数的上下文（this）。<br>我们不能打断foreach，如果需要打断，需要用到some和every，请继续往下看。</p>
<h2 id="2-2-可退出循环some、every"><a href="#2-2-可退出循环some、every" class="headerlink" title="2.2 可退出循环some、every"></a>2.2 可退出循环some、every</h2><p>在java中，你可能会用到break去跳出循环，那么再javascript中要怎么做呢？<br>Some和every使用形式：[].some(callback)/ [].every(callback)，回调函数传入三个参数与foreach相同。当回调函数返回true时候some就会中断，some的返回结果也就会true，代表找到了寻找的元素，而every想法，当false时候中断，但是every要注意的是，如果要every返回true，需要所有的遍历元素都返回true。<br><figure class="highlight javascript"><figcaption><span>testSomevery.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">if</span>(tempStr === value)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">excludeStr</span>(<span class="params">tempStr</span>)</span>&#123;</div><div class="line"><span class="keyword">return</span> tempArray.every(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,array</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(tempStr === value)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> param = process.argv[<span class="number">2</span>];</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"Array ["</span>+tempArray+<span class="string">"] contains string '"</span>+param+<span class="string">"'? "</span>+includeStr(param));</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"Array ["</span>+tempArray+<span class="string">"] exclude string '"</span>+param+<span class="string">"'? "</span>+excludeStr(param));</div></pre></td></tr></table></figure></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node testSomeEvery.js David</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] contains string 'David'? true</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] exclude string 'David'? false</div><div class="line">[David@localhost arraytest]$ node testSomeEvery.js ty</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] contains string 'ty'? false</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] exclude string 'ty'? true</div><div class="line">[David@localhost arraytest]$ node testSomeEvery.js Ty</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] contains string 'Ty'? false</div><div class="line">Array [David,Wu,Love,TY,forever,hahaha] exclude string 'Ty'? true</div></pre></td></tr></table></figure>
<h2 id="2-3-Join，数组插入分隔符"><a href="#2-3-Join，数组插入分隔符" class="headerlink" title="2.3 Join，数组插入分隔符"></a>2.3 Join，数组插入分隔符</h2><p>join(分隔符)方法创建一个字符串，会将数组里面每个元素用分隔符连接。如果没有提供分隔符，默认的分隔符为“,”。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[David@localhost arraytest]$ node</div><div class="line"> var tempArray = [&apos;David&apos;,&apos;Wu&apos;,&apos;Love&apos;,&apos;TY&apos;,&apos;forever&apos;,&apos;hahaha&apos;];</div><div class="line">undefined</div><div class="line"> tempArray.join();</div><div class="line">&apos;David,Wu,Love,TY,forever,hahaha&apos;</div><div class="line"> tempArray.join(&apos;&apos;);</div><div class="line">&apos;DavidWuLoveTYforeverhahaha&apos;</div><div class="line"> tempArray.join(&apos; &apos;);</div><div class="line">&apos;David Wu Love TY forever hahaha&apos;</div></pre></td></tr></table></figure></p>
<h2 id="2-4-Concat-数组浅复制"><a href="#2-4-Concat-数组浅复制" class="headerlink" title="2.4 Concat,数组浅复制"></a>2.4 Concat,数组浅复制</h2><p>concat方法创建一个新数组，其是对原数组的浅拷贝。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> var David = &#123;firstname:&apos;david&apos;,lastname:&apos;wu&apos;&#125;</div><div class="line">undefined</div><div class="line">/ var src = [1,2,3,David]</div><div class="line">undefined</div><div class="line">/var target = src.concat()</div><div class="line">undefined</div><div class="line">/src === target</div><div class="line">false</div><div class="line">/src[3] === a</div><div class="line">/src[3] === David</div><div class="line">true</div><div class="line">/target[3] === David</div><div class="line">true</div></pre></td></tr></table></figure></p>
<p>===在比较对象的时候是比较引用（值类型是比较值，比如number,string等是值类型，而一般对象都是引用类型，比较引用），就是是否为同一个指针的指向，也就是内存地址是否相同。所以拷贝后的target与src比较返回false，因为target是拷贝后的结果。<br>但是，因为是浅拷贝，所以数组内的元素还是用相同的指针指向，所以是相同的。<br>Concat还能加入不限制个数参数，参数可以是值，也可以是一个数组，都会把它加入到数组的末端。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">src.concat(target)</div><div class="line">[ <span class="number">1</span>,</div><div class="line">  <span class="number">2</span>,</div><div class="line">  <span class="number">3</span>,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'david'</span>, <span class="attr">lastname</span>: <span class="string">'wu'</span> &#125;,</div><div class="line">  <span class="number">1</span>,</div><div class="line">  <span class="number">2</span>,</div><div class="line">  <span class="number">3</span>,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'david'</span>, <span class="attr">lastname</span>: <span class="string">'wu'</span> &#125; ]</div><div class="line">src.concat(<span class="string">'tang'</span>,<span class="string">'ying'</span>,<span class="string">'hahaha'</span>)</div><div class="line">[ <span class="number">1</span>,</div><div class="line">  <span class="number">2</span>,</div><div class="line">  <span class="number">3</span>,</div><div class="line">  &#123; <span class="attr">firstname</span>: <span class="string">'david'</span>, <span class="attr">lastname</span>: <span class="string">'wu'</span> &#125;,</div><div class="line">  <span class="string">'tang'</span>,</div><div class="line">  <span class="string">'ying'</span>,</div><div class="line">  <span class="string">'hahaha'</span> ]</div></pre></td></tr></table></figure>
<h2 id="2-5-Pop、push实现栈"><a href="#2-5-Pop、push实现栈" class="headerlink" title="2.5 Pop、push实现栈"></a>2.5 Pop、push实现栈</h2><p>使用push可以压入一个元素或者一个数组。<br>而用pop则移除数组的末尾元素，并移除。如果数组是空返回返回void 0（undefined）。用这两个方法可以实现LIFO的栈数据结构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>._statck=[]&#125;</div><div class="line">Undefined</div><div class="line">Stack.prototype.next = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>._statck.pop();&#125;</div><div class="line">[<span class="built_in">Function</span>]</div><div class="line">Stack.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params">arrayx</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>._statck.push(arrayx);&#125;</div><div class="line">[<span class="built_in">Function</span>]</div><div class="line">stack = <span class="keyword">new</span> Stack()</div><div class="line">&#123; <span class="attr">_statck</span>: [] &#125;</div><div class="line">stack</div><div class="line">&#123; <span class="attr">_statck</span>: [] &#125;</div><div class="line">stack.add(<span class="number">1</span>);</div><div class="line"><span class="number">1</span></div><div class="line">stack.add(<span class="string">'David'</span>);</div><div class="line"><span class="number">2</span></div><div class="line">stack.add(<span class="string">'Wu'</span>);</div><div class="line"><span class="number">3</span></div><div class="line">stack.add(<span class="string">'tang'</span>);</div><div class="line"><span class="number">4</span></div><div class="line">stack.add(<span class="string">'ying'</span>);</div><div class="line"><span class="number">5</span></div><div class="line">stack</div><div class="line">&#123; <span class="attr">_statck</span>:</div><div class="line">   [ <span class="number">1</span>,</div><div class="line">     <span class="string">'David'</span>,</div><div class="line">     <span class="string">'Wu'</span>,</div><div class="line">     <span class="string">'tang'</span>,</div><div class="line">     <span class="string">'ying'</span> ] &#125;</div><div class="line">stack.next()</div><div class="line"><span class="string">'ying'</span></div><div class="line">stack.next()</div><div class="line"><span class="string">'tang'</span></div><div class="line">stack.next()</div><div class="line"><span class="string">'Wu'</span></div><div class="line">stack.next()</div><div class="line"><span class="string">'David'</span></div><div class="line">stack.next()</div><div class="line"><span class="number">1</span></div><div class="line">stack</div><div class="line">&#123; <span class="attr">_statck</span>: [] &#125;</div></pre></td></tr></table></figure>
<p>这里可以用apply稍微改造下该方法。至于apply是什么，可以参考该文章<a href="http://www.cnblogs.com/KeenLeung/archive/2012/11/19/2778229.html" target="_blank" rel="external">Apply方法详解</a>。</p>
<figure class="highlight javascript"><figcaption><span>Stack.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>._stack = [];</div><div class="line">&#125;</div><div class="line"></div><div class="line">Stack.prototype.next = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._stack.pop();</div><div class="line">&#125;</div><div class="line">Stack.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._stack.push.apply(<span class="keyword">this</span>._stack,<span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">module</span>.exports = Stack;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">var Stack = require(&apos;./Stack&apos;)</div><div class="line">undefined</div><div class="line">stack = new Stack();</div><div class="line">&#123; _stack: [] &#125;</div><div class="line">stack.add(&apos;David&apos;,&apos;Wu&apos;,1988,1114)</div><div class="line">4</div><div class="line">stack.next();</div><div class="line">1114</div><div class="line">stack</div><div class="line">&#123; _stack: [ &apos;David&apos;, &apos;Wu&apos;, 1988 ] &#125;</div><div class="line">stack.next();</div><div class="line">1988</div><div class="line">stack.next();</div><div class="line">&apos;Wu&apos;</div><div class="line">stack</div><div class="line">&#123; _stack: [ &apos;David&apos; ] &#125;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<h2 id="2-6-shift和unshift实现队列"><a href="#2-6-shift和unshift实现队列" class="headerlink" title="2.6 shift和unshift实现队列"></a>2.6 shift和unshift实现队列</h2><p>用unshift 和 shift可以很好的模拟FIFO（先进先出）队列。</p>
<figure class="highlight javascript"><figcaption><span>Queue.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>._queue = [];</div><div class="line">&#125;</div><div class="line"></div><div class="line">Queue.prototype.next = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._queue.shift();</div><div class="line">&#125;</div><div class="line">Queue.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._queue.unshift.apply(<span class="keyword">this</span>._queue,<span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">module</span>.exports = Queue;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var Queue = require(&apos;./Queue&apos;);var queue = new Queue();</div><div class="line">undefined</div><div class="line">queue.add(1,3,5,7);</div><div class="line">4</div><div class="line">queue</div><div class="line">&#123; _queue: [ 1, 3, 5, 7 ] &#125;</div><div class="line">queue.next()</div><div class="line">1</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/23/2014-01-23-programming-language-status-technical-people-in-transition/" itemprop="url">
                  编程语言现状、技术人转型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-23T13:05:00+08:00" content="2014-01-23">
              2014-01-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/个人随笔/项目管理/" itemprop="url" rel="index">
                    <span itemprop="name">项目管理</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#项目Deadline<br>终于一年要是个头了，明早稍微准备下演示需要的数据，明天下午进行演示后，今年的工作就到这里了。今天还被通知说年终要年后花，对于这个在研发组内通知后基本上哀声一片，我只能说，大家先不管这些，把现在的工作做好，把明天的演示做好，至于之后有什么不满在慢慢谈。<br>回家后整理了下行李，本来是想好好休息下的。没想到手贱点了下InfoQ就又开始看技术了，看就看又强迫症看完后做了点记录，然后长叹一声，好吧，事已至此，那我干脆也把刚刚做的记录整理成博文，就当做放松吧。（我的放松方式果然是很奇葩）</p>
<p>Infoq原文 <a href="http://www.infoq.com/cn/interviews/chen-hao-talk-language-situation-technicians-transformation--personal-growth?utm_source=infoq&amp;utm_medium=videos_homepage&amp;utm_campaign=videos_row2" target="_blank" rel="external">陈皓谈语言现状、技术人转型、个人成长</a></p>
<h1 id="1-语言现状"><a href="#1-语言现状" class="headerlink" title="1 语言现状"></a>1 语言现状</h1><h2 id="什么样的公司能招到牛人"><a href="#什么样的公司能招到牛人" class="headerlink" title="什么样的公司能招到牛人"></a>什么样的公司能招到牛人</h2><p>第一个，当然是好的福利待遇，根据需求层次来说，物质肯定是拍第一位的，之后才是人生安全需求、自我实现需求等。</p>
<h2 id="没钱怎么招牛人"><a href="#没钱怎么招牛人" class="headerlink" title="没钱怎么招牛人"></a>没钱怎么招牛人</h2><p>一个人去面试一个团队必须有自己的亮点，同样一个团队招人也必须有自己的亮点。大公司招人有优秀的福利、待遇，小公司资源紧缺，招人更需要一种自由的环境。<br>什么是自由的化境呢？就是小公司应该让牛人们可以自由发挥自己的特长，技术驱动、更灵活动态化的元编程语言等，都是吸引牛人的地方。小公司用一些冷门的技术更容易招到大牛，像国内有个Lisp大牛就选择了创业小团队，因为那里能自由的使用Lisp。而大公司更愿意使用经过时间考验的成熟技术，比如Java有企业级Web开发解决方案J2EE，J2EE有Servlet容器，前端有JSP等，控制层有Servlet，模型层有Bean，数据持久层有JDBC，还有社区支持，有很多高效的框架技术。</p>
<h2 id="小公司难道不花工资吗"><a href="#小公司难道不花工资吗" class="headerlink" title="小公司难道不花工资吗"></a>小公司难道不花工资吗</h2><p>牛人也是要生活的。小公司虽然资源紧缺，但是更应该把资金用在刀刃上。招的能力不够的人不能解决问题还会带来问题。所以小公司更要招好的人，大公司还能浪费一点。</p>
<h2 id="什么是好的人才"><a href="#什么是好的人才" class="headerlink" title="什么是好的人才"></a>什么是好的人才</h2><p>也许招不来薪水很高的大牛，但是总会有有理想的人、有热情的人。<br>有能力的人、有热情的人、有潜力的人才是好的人。有热情的人都愿意把时间花在开源社区，更何况花在有亮点能实现自我价值的团队呢？</p>
<h2 id="什么样的团队招不来牛人"><a href="#什么样的团队招不来牛人" class="headerlink" title="什么样的团队招不来牛人"></a>什么样的团队招不来牛人</h2><p>又没物质的待遇，又没精神的升华，那这样的公司肯定招不来牛人。（这句话是废话）</p>
<h1 id="2-对开源的想法"><a href="#2-对开源的想法" class="headerlink" title="2 对开源的想法"></a>2 对开源的想法</h1><p>linux形式的开源优于GNU，Github现在也是LInux这样形式的开源。<br>Linux就是很自由，你可以商用，你也可以什么，你可以不同意我的代码，你自己把它拿去拷贝一份，你想怎么改怎么改，但是你开源就好，然后你那边精彩过 去你回到我这边来，他是一个分布式的一个开源，就是集市，集市的意思是每个人都可以成为一个主干，代码上可以成为一个主干，你也许干的好了你可以把我灭 了，就这个意思，你可以成为我的一个竞争对手。然后GNU它是以教堂的，教堂就是有点集权的，或者说是独裁的这种方式，他说你所有的代码提交必须通过我自 己，我说了那个进，那个不进，这是GNU的方式，所以我比较喜欢这种更为松散的，更为民主的，或者说更为自由的这种公司，这种创业性公司像 37signal有很强的价值观，完全跟其他人不一样，然后现在像Linux这种。但是我觉得现在的开源更接近于像Linux这样的这种方式，以Linux的这种方式我比较喜欢。</p>
<h1 id="3技术转型"><a href="#3技术转型" class="headerlink" title="3技术转型"></a>3技术转型</h1><h2 id="转型的建议"><a href="#转型的建议" class="headerlink" title="转型的建议"></a>转型的建议</h2><p>转型是在一个事情上坚持、执着的副产品。不要为了创业创业，为了转型而转型。博客是写给自己看的，而不是为了出名。等你执着了特别长的时间后，把事情干的比别人出色了以后，这个机会自然而然就出现了， 既得技则优则不惑， 你技术好了，很自然的别人会来请教你，别人会来听你的，事实上你也在做一些管理上的工作了。</p>
<h2 id="如何开始管理"><a href="#如何开始管理" class="headerlink" title="如何开始管理"></a>如何开始管理</h2><h2 id="保持coding"><a href="#保持coding" class="headerlink" title="# 保持coding"></a># 保持coding</h2><p>切忌外行管理内行。要管理技术团队，还是要和技术团队一起去做事情，至少花30%的时间在coding上。 你不写代码就管不了别人。</p>
<h2 id="技术影响力"><a href="#技术影响力" class="headerlink" title="# 技术影响力"></a># 技术影响力</h2><p>然后你必须要有技术影响力。什么叫影响力？影响力就 是那种别人遇到技术问题的时候，或者遇到一些难题时候会来请教你的这种现象，不是说是我当了一个职位比你高的人，我来把我的观念强迫接受下来，不是这样， 这不叫影响力。</p>
<h1 id="4如何看信息碎片化SNS"><a href="#4如何看信息碎片化SNS" class="headerlink" title="4如何看信息碎片化SNS"></a>4如何看信息碎片化SNS</h1><p>看完就会忘掉，不会沉淀下来。微博用来传播新闻八卦比较好。总之微博、微信太浪费时间了。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li>专注技术到一定程度，机会自然会出现</li>
<li>锻炼影响力</li>
<li>做好自己</li>
<li>小公司需要有个性，有亮点，同时也不能太亏待了员工</li>
<li>去中心化的开源</li>
<li>别浪费时间在微博上</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/22/2014-01-22-web-age-of-venture-nodejs-util-module-a/" itemprop="url">
                  互联网时代如何创业----Node.js的Util模块（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-22T13:18:00+08:00" content="2014-01-22">
              2014-01-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近打车应用的斗争已经从群雄逐鹿，到现在快的和滴滴打车双雄争霸的市场格局了。但是，两家创业公司的斗争实际并没有那么简单，他们背后是“财付通VS支付宝”，“微信VS来往”，“理财通VS余额包”，最幕后的黑手就是“腾讯VS阿里巴巴”。<br>本文不想过多篇幅来写两家巨头是如何烧钱大战的，不过他们把补贴做到了一种极端上，靠着疯狂砸广告、大力补贴司机、变态似的补贴用户等行为，可以说把整个市场都占据了。打车软件作为最容易被市场接受的LBS服务之一，是巨头们测试其O2O能力和渗透率的绝佳工具，也为未来更多O2O业务提供接口，所以才这么的疯狂。<br>因此，对于两家初创公司，都靠着背后的干爹烧着钱，让别的创业公司基本上没活路，但是别忘了黄花梨做的椅子终究是要让人坐在屁股底下的。也预示着大多数创业公司的最终结果——被收购。<br>那么，在巨头们垄断式的市场里，如何脱颖而出呢？以下的内容基本上是读KK（凯文凯利）的文章的个人理解，理解有误的话请见谅。<br>KK说了，最具有破坏力的竞争来自于边缘而非中心。边缘是不被看好的市场。赢利低、不稳定、未经验证、市场狭小、风险系数极高。小公司不得不进入这样的市场。<br>就像上篇博文中提到的，蒸汽船开始时候故障多、昂贵等等原因都一度是他成为了摆设，但是经过几十年的改造，他把原来的造船行业全部打败了。60年代底特律的第一代汽车被一个叫本田的日本人用自动化的汽车打败了。IBM作为电脑公司也被微软这样做软件的公司不断蚕食，而微软如今又不得不面对一个做搜索引擎的公司（谷歌）的竞争。这些边缘公司却可以逐步打败那些老家伙，都是因为他们没有从正面进行较量，而是从老家伙们没有涉足的边缘进行发展（因为老家伙们需要完善现有产品，强化现有优势）。<br>作为一个赛车游戏的忠实粉丝，我深刻的知道想要超车必须从弯道，所有追赶都是没用的（除非你用外挂，你的车比别人快的多，也就是你有干爹的意思）。微创新这会，就是大公司用来扼杀小公司的手段，一定不是小公司用来颠覆大公司的武器。<br>360是从瑞星看不上眼的免费杀毒市场起家的，苹果是从IBM看不上眼的PC机起家的，微软也是从IBM看不上眼的操作系统起家，谷歌是从微软看不上眼的网络服务起家。但是现在的大公司都聪明了，像打车市场一出现点苗头，就被他们盯上了，所以，在这个时代想要从巨头们的眼皮底下做出点雷声大雨点更大的事情，就是一个字，难！<br>03年有几家闷声做大事的互联网公司是有起色，不过那真的就是巨头们不愿意涉及的边缘行业。谁能扎到下一个缝隙，爬到巨头们的头上呢？2014，让我们拭目以待。<br>————————–分割线—————————</p>
<h1 id="常用工具Util"><a href="#常用工具Util" class="headerlink" title="常用工具Util"></a>常用工具Util</h1><p>util 是一个 Node.js 核心模块，提供常用函数的集合，用于弥补核心 JavaScript 的功能过于精简的不足。Util模块的函数比较多，今天先说两个。</p>
<h2 id="1-util-inherits"><a href="#1-util-inherits" class="headerlink" title="1 util.inherits"></a>1 util.inherits</h2><p>util.inherits(constructor, superConstructor)是一个实现对象间原型继承的原型复制函数。JavaScript 的面向对象特性是基于原型的，与常见的基于类的不同。不像Java中的对面对象特性是基于类的，可以用extends来实现继承，Javascript中需要通过原型复制来实现。这个问题可能要牵扯到javascript的原型概念，下次专门写一篇博文介绍javascript的原型。<br>先简单的打个比方，类就相当于一个模具，通过模具产生对象。而原型就好比达芬奇的蒙娜丽莎，其他艺术家通过高超的技艺复杂成一个一个对象。<br>看下面继承的例子：<br><figure class="highlight javascript"><figcaption><span>testInherits.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="keyword">this</span>.name = <span class="string">'base'</span>;</div><div class="line"><span class="keyword">this</span>.base = <span class="number">1991</span>;</div><div class="line"><span class="keyword">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Hello '</span> + <span class="keyword">this</span>.name);</div><div class="line">&#125;;</div><div class="line">&#125;</div><div class="line">Base.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="keyword">this</span>.name = <span class="string">'sub'</span>;</div><div class="line">&#125;</div><div class="line">util.inherits(Sub, Base);</div><div class="line"><span class="keyword">var</span> objBase = <span class="keyword">new</span> Base();</div><div class="line">objBase.showName();</div><div class="line">objBase.sayHello();</div><div class="line"><span class="built_in">console</span>.log(objBase);</div><div class="line"><span class="keyword">var</span> objSub = <span class="keyword">new</span> Sub();</div><div class="line">objSub.showName();</div><div class="line"><span class="comment">//objSub.sayHello();</span></div><div class="line"><span class="built_in">console</span>.log(objSub);</div></pre></td></tr></table></figure></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node testInherits.js</div><div class="line">base</div><div class="line">Hello base</div><div class="line">&#123; name: 'base', base: 1991, sayHello: [Function] &#125;</div><div class="line">sub</div><div class="line">&#123; name: 'sub' &#125;</div></pre></td></tr></table></figure>
<p>Javascript的对象分三种：原型对象、构造对象、实例对象。<br>objSub是实例对象，如果//objSub.sayHello();不注释则会报错，因为只能继承Base原型的属性，不能继承Base构造对象的属性。<br>具体关于原型，还是请看之后写的关于原型的博文吧，想简单的解释实在太绕了。</p>
<h2 id="2-util-inspect"><a href="#2-util-inspect" class="headerlink" title="2 util.inspect"></a>2 util.inspect</h2><p>util.inspect(object,[showHidden],[depth],[colors])是一个将任意对象转换为字符串的方法，通常用于调试和错误输出。它至少接受一个参数 object，即要转换的对象。<br>showHidden 是一个可选参数，如果值为 true，将会输出更多隐藏信息。<br>depth 表示最大递归的层数，如果对象很复杂，你可以指定层数以控制输出信息的多少。如果不指定depth，默认会递归2层，指定为 null 表示将不限递归层数完整遍历对象。<br>如果color 值为 true，输出格式将会以 ANSI 颜色编码，通常用于在终端显示更漂亮的效果。<br>从下面例子可以看出，就算有toString方法，也不会直接调用他来转换对象。<br><figure class="highlight javascript"><figcaption><span>testInspect.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">'util'</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="keyword">this</span>.name = <span class="string">'byvoid'</span>;</div><div class="line"><span class="keyword">this</span>.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">&#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> Person();</div><div class="line"><span class="built_in">console</span>.log(util.inspect(obj));</div><div class="line"><span class="built_in">console</span>.log(util.inspect(obj, <span class="literal">true</span>));</div></pre></td></tr></table></figure></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node testInspect.js</div><div class="line">&#123; name: 'byvoid', toString: [Function] &#125;</div><div class="line">&#123; toString:</div><div class="line">   &#123; [Function]</div><div class="line">     [caller]: null,</div><div class="line">     [arguments]: null,</div><div class="line">     [length]: 0,</div><div class="line">     [prototype]: &#123; [constructor]: [Circular] &#125;,</div><div class="line">     [name]: '' &#125;,</div><div class="line">  name: 'byvoid' &#125;</div></pre></td></tr></table></figure>
<h2 id="3-其他"><a href="#3-其他" class="headerlink" title="3 其他"></a>3 其他</h2><p>util还提供了util.isArray()、util.isRegExp()、util.isDate()、util.isError() 四个类型测试工具，以及 util.format()、util.debug() 等工具。有兴趣的读者可以访问 <a href="http://javascript.org/api/util.html" target="_blank" rel="external">API</a>了解详细内容。有空我也会把util这个工具继续写下去。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/21/2014-01-21-a-message-reply-department-manager/" itemprop="url">
                  一封回复部门经理的邮件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-21T10:59:00+08:00" content="2014-01-21">
              2014-01-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/学习/个人随笔/" itemprop="url" rel="index">
                    <span itemprop="name">个人随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今早部门经理发了一封邮件，意在督促大家在2014年多学习新的技术。然后作为一个话痨，我就花了半个小时时间回复了该邮件，就像跟随党中央号召似的，响应了部门经理的号召。下面就大概把这篇邮件贴出来把（有部分内容删除）。</p>
<p>#邮件内容<br>大家好：<br>这是一个长篇大论，我敲了半个小时吧，忙的人选择性忽略吧。错别字请见谅，没有校审。<br>郭经理推荐的几个技术是不错了。所谓8小时内求生存，8小时外求发展。大家是该多学习学习新的东西，逃离舒适区。300年前蒸汽船诞生，但是当时他贵而且容易发生故障，所有的帆船产商基本都对这庞然大物不敢兴趣，但是仅仅50年，经过蒸汽船的不断改善，所有帆船产生都没市场了。再说的近一点，上世纪60年代，第一代汽车使底特律的汽车工人都算社会的中上层人士，而后来一个叫本田的日本人用自动化汽车让底特律破产了。再说我们身边一点，不说basic等语言了，就说delphi啊，10年前delphi可谓是工资最高的程序员，java5年前也很不错，但是如今最吸金的程序员莫过于objective-c（这里有位童鞋就站出来反驳了，说不能太看重金钱。其实我举吸金这个例子不是说明哪种语言好，只是说明下时代变更有多块，现在不用5年就会发生一次大变更了）。说这么多废话只是想说，别像米缸里的老鼠一样，吃光了米缸里的米后才发现，已经无法跳出米缸了。<br>不过我觉得这些都太大了，特别是云这国内真很难有人能真正接触到，Hadoop学习和生产环境的差别也非常大，我觉得容易着手去学习的，应该是一些比较具体的东西。<br>比如郭飞刚刚也提到的NoSQL，MongoDB伴随着Node.js的兴起，很多网络服务商都开始使用了。并且他是一个开源的NoSql数据库，相比传统关系型数据库，文档性数据库轻巧、灵活，非常适合在数据规模很大、事务性不强的场合下使用。MongoDb这种对象库，没有表、行的概念，也没有固定的模式和结构，MongoDb的文档结构为Json串，用Node.js查询数据甚至没有数据转换的时间。<br>JAVA8今年3月也要发布了，Java从7开始也一直在努力摆脱静态强类型编译型语言的束缚，JAVA8的LAMDA表达式能做到什么程度还不而为知，但是我觉得现在的JVM是越来越强大了，JDK6U23以后用HOTSPOT替代了JIT后，运行速度更快了。而且JVM毕竟可以能运行JAVA，还能运行Ruby、Python、Groovy，甚至半年前新冒头的Vert.x，让node.js可以运行在JVM上了，真是让我和我的小伙伴们的吓傻了。<br>然后说说动态元编程语言（元数据是描述数据的数据，元编程就是可以在运行时改变其特性的语言，java也努力通过代理、反射的方式在实现这种功能）。麦卡锡在上世纪50年代的一篇论文可以说是里程碑式的，因为该论文中提到的很多特性都在JAVA中有很好的体现，但是唯独缺少了宏。Lisp语言就在这方面有很好的实现。现在Ruby、python、javascript可以算当前最好的元编程语言。所以我很建议去学学这几门语言。Java程序员可能比较适合学习scala，因为他也运行在JVM上，而且可以和JAVA有很好的兼容。</p>
<p>此致<br>敬礼</p>
<hr>
<p>2014-01-21<br>吴迪玮<br>厦门市巨龙信息科技有限公司  研发五部</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/01/20/2014-01-20-new-year-nodejs-global-object/" itemprop="url">
                  辞旧迎新---javascript的全局对象
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2014-01-20T12:40:00+08:00" content="2014-01-20">
              2014-01-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/" itemprop="url" rel="index">
                    <span itemprop="name">Node.js</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/互联网/" itemprop="url" rel="index">
                    <span itemprop="name">互联网</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/互联网/互联网思维/" itemprop="url" rel="index">
                    <span itemprop="name">互联网思维</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/互联网/互联网思维/去中心化/" itemprop="url" rel="index">
                    <span itemprop="name">去中心化</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/javascript/Node-js/互联网/互联网思维/去中心化/全局对象/" itemprop="url" rel="index">
                    <span itemprop="name">全局对象</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上周六，公司的尾牙终于结束了。由于公司的尾牙的排练，也落下了不上工作，本周也是当前项目的关键一周，还有很多工作要做，因此这时候想撇开过去说辞旧迎新还是有点早的。但是，我就是一个标题党，我今天要说的辞旧迎新和你们想的肯定完全不一样，谁能猜到我要说的是什么呢？我要说的其实就是，工业时代的过去，互联网时代的到来。<br>自蒸汽机以来250年间，工业思维一直主导着我们的社会，“中心化”、“集中化”、“标准化”、“控制化”等工业品生产领域的概念不仅成为社会管理的方法，也成为商业运作的准则。但是，互联网恰恰相反，是去中心的、异质的、多元的和感性的，它天然就有民主的特性，不巧地解构掉了工业思维。<br>互联网的本质不是用一个更好的管理去打败原来的管理，也不是用创新去打败原来的创新，更不是用更好的技术去打败原来的技术。而是用人类本能的兴趣爱好，而是以一种工作坊的工作方式，去打败以前的大工业时代。互联网是用了很多去中心化的结点效应，产生了集体智慧，群体智慧。<br>也许有人不理解这种去中心化的结点效应是什么？那仔细听了，让我来告诉你。其实嘛，我也不懂，我最多算大概懂个意思。其实我们也已经在这种去中心化的结点效应中生活了好久了，只是没人告诉你这么回事，也就不以为然了。比如我现在写博文就是这样的意思，为整个社区的协同创作做贡献。任何参与者，均可提交内容，网民共同进行内容协同创作或贡献。<br>而twitter则把这个事情做到了一个极致。也许写博文还需要的时间比较多，那发个twitter就简单多了，可以简单的就是一个图片，或者简单的就是一个字。使得为互联网生产或贡献内容更加简便、更加多元化，从而提升了网民参与贡献的积极性、降低了生产内容的门槛。最终使得每一个网民均成为了一个微小且独立的信息提供商，使得互联网更加扁平、内容生产更加多元化。碎片化的信息同样也符合快节奏现代人的阅读习惯。</p>
<p>先就写这些，最近几篇估计都会乱侃互联网时代的改变。<br>———————–分割线————————-</p>
<h1 id="全局对象"><a href="#全局对象" class="headerlink" title="全局对象"></a>全局对象</h1><p>全局对象在javascript中比较特殊，在程序中随时都能访问，类似Java中的静态变量，随时都能 ClassName.STATIC_VAR_NAME 来访问。熟悉客服端JS的应该都知道window，他就是全局对象，而javascript中的全局对象是global，所有的全局变量都是global的属性。<br>在javascript中可以直接访问全局对象的属性，比如在客户端javascript中我们访问最多的就是document变量。而javascript中，console、process是访问较多的全局变量。</p>
<p>##1 定义全局变量<br>满足以下条件则为全局变量：</p>
<ul>
<li>在最外层定义的变量；</li>
<li>全局对象的属性；</li>
<li>隐式定义的变量（未定义直接赋值的变量）。</li>
</ul>
<p>注意：一定要避免最后一种情况，即未使用 var 定义变量。因为全局变量会污染命名空间，提高代码的耦合风险。</p>
<p>##2 常用的全局变量</p>
<p>###2.1 Process<br>process 是一个全局变量，即 global 对象的属性。它用于描述当前 Node.js 进程状态的对象，提供了一个与操作系统的简单接口。<br>下面将会介绍 process 对象的一些最常用的成员方法。</p>
<p>####2.1.1 process.argv<br>process.argv是命令行参数数组，第一个元素是 node，第二个元素是脚本文件名，从第三个元素开始每个元素是一个运行参数。<br>看以下例子：<br><figure class="highlight javascript"><figcaption><span>argv.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(process.argv);</div></pre></td></tr></table></figure></p>
<p>在控制台执行的结果为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node argv.js 19881114 name=David -V XMUT</div><div class="line">[ &apos;node&apos;,</div><div class="line">  &apos;/home/David/workspace/javascriptStudy/argv.js&apos;,</div><div class="line">  &apos;19881114&apos;,</div><div class="line">  &apos;name=David&apos;,</div><div class="line">  &apos;-V&apos;,</div><div class="line">  &apos;XMUT&apos; ]</div></pre></td></tr></table></figure></p>
<p>####2.1.2 process.stdout<br>标准输出流，通常我们使用的 console.log() 向标准输出打印字符，而 process.stdout.write() 函数提供了更底层的接口。下面这个例子我直接在控制台输出了。<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node -e 'process.stdout.write("aaa")'</div><div class="line">aaa</div></pre></td></tr></table></figure></p>
<p>####2.1.3 process.stdin<br>标准输入流，初始时它是被暂停的，要想从标准输入读取数据，你必须恢复流，并手动编写流的事件响应函数。<br><figure class="highlight javascript"><figcaption><span>testStdin.js</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">process.stdin.resume();</div><div class="line">process.stdin.setEncoding(<span class="string">'utf8'</span>);</div><div class="line">process.stdin.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">process.stdout.write(<span class="string">'read from console: '</span> + data.toString());</div><div class="line"><span class="keyword">if</span>(data.toString().substring(<span class="number">0</span>,<span class="number">3</span>) == <span class="string">'bye'</span>)&#123;</div><div class="line">    process.stdin.emit(<span class="string">'end'</span>);</div><div class="line">&#125;</div><div class="line">&#125;);</div><div class="line">process.stdin.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  process.stdout.write(<span class="string">'end!'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node testStdin.js</div><div class="line">我是David!</div><div class="line">read from console: 我是David!</div><div class="line">bye</div><div class="line">read from console: bye</div><div class="line">end!</div></pre></td></tr></table></figure>
<p>还有一种方式就是把输入写到文件中重定向，比如我创建一个文件叫in，里面内容是“我是吴迪玮，我是中国人！”。然后执行下面命令。In中的内容会重定向输出到out中去。</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ cat in</div><div class="line">我是吴迪玮，是个中国人！</div><div class="line">[David@localhost javascriptStudy]$ cat out</div><div class="line">cat: out: 没有那个文件或目录</div><div class="line">[David@localhost javascriptStudy]$ node testStdin.js &lt; in out</div><div class="line">[David@localhost javascriptStudy]$ cat out</div><div class="line">read from console: 我是吴迪玮，是个中国人！</div></pre></td></tr></table></figure>
<p>####2.1.4 process.nextTick(callback)<br>process.nextTick(callback) 的功能是为事件循环设置一项任务，Node.js 会在下次事件循环调响应时调用 callback。<br>先解释下下次时间循环响应时调用是什么意思。<br>任何javascript应用都是一个单线程，任何时刻都只有一个事件在执行，因此javascript应用应该尽可能缩短事件的执行时间。process.nextTick(callback)提供了一个这样的工具，可以吧复杂的工作拆散，变成一个一个较小的时间。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">args, callback</span>) </span>&#123;</div><div class="line">somethingComplicated(args);</div><div class="line">process.nextTick(callback);</div><div class="line">&#125;</div><div class="line">doSomething(<span class="function"><span class="keyword">function</span> <span class="title">onEnd</span>(<span class="params"></span>) </span>&#123;</div><div class="line">compute();</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>上面的程序中，somethingComplicated和compute都执行时间较长，因此，后面的process.nextTick(callback);会把耗时的操作拆分，减少每个时间的执行时间，提高响应速度。<br>你也可以使用setTimeout()函数来达到貌似同样的执行效果：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">args, callback</span>) </span>&#123;</div><div class="line">somethingComplicated(args);</div><div class="line">setTimeout(callback, <span class="number">0</span>);</div><div class="line">&#125;</div><div class="line">doSomething(<span class="function"><span class="keyword">function</span> <span class="title">onEnd</span>(<span class="params"></span>) </span>&#123;</div><div class="line">compute();</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>但是 <strong>注意</strong> ：不要使用setTimeout（fn,0）来代替，nextTick效率高的多。</p>
<p>#####2.1.4.1 process.nextTick()和setTimeout(fn, 0)的不同<br>在内部的处理机制上，process.nextTick()和setTimeout(fn, 0)是不同的，process.nextTick()不是一个单纯的延时，他有更多的<a href="https://gist.github.com/mmalecki/1257394" target="_blank" rel="external">特性</a>。<br>更精确的说，process.nextTick()定义的调用会创建一个新的子堆栈。在当前的栈里，你可以执行任意多的操作。但一旦调用netxTick，函数就必须返回到父堆栈。然后事件轮询机制又重新等待处理新的事件，如果发现nextTick的调用，就会创建一个新的栈。</p>
<p>#####2.1.4.2 nextTick()的具体用途<br>可以参考该文，戳<a href="http://www.oschina.net/translate/understanding-process-next-tick?cmp" target="_blank" rel="external">这里</a></p>
<p>####2.1.5 其他<br>除此之外process还展示了process.platform、process.pid、process.execPath、process.memoryUsage() 等方法，以及 POSIX进程信号响应机制。有兴趣的读者可以查看<a href="http://javascript.org/api/process.html" target="_blank" rel="external">API</a>了解详细内容。</p>
<p>###2.2 Console</p>
<p>####2.2.1  console.log()<br>两个简单例子带过。<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node -e 'console.log("abcd%shijk","efg")'</div><div class="line">abcdefghijk</div><div class="line">[David@localhost javascriptStudy]$ node -e 'console.log("abcd%dhijk","1234")'</div><div class="line">abcd1234hijk</div></pre></td></tr></table></figure></p>
<p>####.2.2.2 console.error()<br>标准错误流输出，用法同上。</p>
<p>####2.2.3 console.trace()<br>向标准错误流输出当前调用栈。<br><figure class="highlight console"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[David@localhost javascriptStudy]$ node -e 'console.trace()'</div><div class="line">Trace</div><div class="line">    at Object.eval (eval at &lt;anonymous(eval:1:82))</div><div class="line">    at Object.&lt;anonymous(eval:1:70)</div><div class="line">    at Module._compile (module.js:449:26)</div><div class="line">    at evalScript (node.js:358:25)</div><div class="line">    at startup (node.js:77:7)</div><div class="line">    at node.js:699:3</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="David Woo" />
          <p class="site-author-name" itemprop="name">David Woo</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">99</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">195</span>
                <span class="site-state-item-name">Kategorien</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">Tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">David Woo</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
